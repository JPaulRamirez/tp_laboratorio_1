/*
 ============================================================================
 Name        : TP-1.c
 Author      : Paul Ramirez Benites
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include "calcular.h"


int main(void)
{
	setbuf(stdout, NULL);
	//Variables generales
	int opcion;
	float km = 0;
	float precioAerolineas = 0;
	float precioLatam = 0;
	int bandera = 0; // La bandera para informar al usuario que faltan cargar datos si bandera=1.
	//Variables de Aeolineas
	float descuentoAerolineas;
	float interesAerolineas;
	float bitcoinAerolineas;
	float precioUnitarioAerolineas;
	//Variables de Latam
	float descuentoLatam;
	float interesLatam;
	float bitcoinLatam;
	float precioUnitarioLatam;

	float diferenciaLatamYAreolineas;
	int bandera1=0;
	do
	{

		switch(pedirOpcion)
		{
			case 1:// Ingresar Kilometros
				if(bandera1==0)
				{
				km = kilometrosIngresados (km); //LLama la fución kilometros
				bandera1=1;
				}
			break;

			case 2:// Ingresar precio de vuelos

				precioAerolineas = precioAerolineasIngresados(precioAerolineas); //Llama la fución precioAerolineasIngresados

				precioLatam = precioLatamIngresados(precioLatam); //Llama la fución precioLatamIngresados

			break;

			case 3:// Calcular todos los costos

				if(km ==0 || precioAerolineas ==0 || precioLatam ==0)
				{
					printf("\nTe falta ingresar datos.\n\n");
				}
				else
				{
					descuentoAerolineas = descuentoDebito (precioAerolineas);
					interesAerolineas = interesCredito (precioAerolineas);
					bitcoinAerolineas = Bitcoin (precioAerolineas);
					precioUnitarioAerolineas = Unitario (precioAerolineas, km);

					descuentoLatam = descuentoDebito (precioLatam);
					interesLatam = interesCredito (precioLatam);
					bitcoinLatam = Bitcoin (precioLatam);
					precioUnitarioLatam = Unitario (precioLatam, km);

					diferenciaLatamYAreolineas = diferenciaDePrecio(precioAerolineas, precioLatam);

					printf("\nSe han calculado todo los costos.\n\n");
					bandera1=0;
					bandera=1;
				}

			break;

			case 4:// Informar Resultados
				if(km !=0 && precioAerolineas !=0 && precioLatam !=0)
				{
					if(bandera) //bandera==0
					{
						//LLamo la fución informarResultado.
						informarResultados(km, diferenciaLatamYAreolineas, precioLatam, precioAerolineas, descuentoLatam,interesLatam, bitcoinLatam, precioUnitarioLatam,
											descuentoAerolineas, interesAerolineas, bitcoinAerolineas, precioUnitarioAerolineas);

						//Igualo a 0 para que el usuario cuando ingrese otro dato nuevo, tendra que reiniciar con la opcion 3 para que los anteriores datos de informar resultados no queden guardadas .
						bandera=0;
					}
					else
					{
						printf("\nTe falta calcular los datos (opcion 3).\n\n");
					}
				}
				else
				{
					printf("\nTe falta ingresar datos.\n\n");
				}
			break;

			case 5:// Carga forzada

				km = 7090;
				precioAerolineas = 162965;
				precioLatam = 159339;

				// Llamo la función cargaForzada.
				cargaForzada(km,precioAerolineas,precioLatam);

				//Reinicio las variables de nuevo a 0 y no queden guardadas en las opciones de (x,y,z).

					km = 0;
					precioAerolineas = 0;
					precioLatam = 0;
			break;

			case 6:// Salir
			break;

			default:
				printf("\nOpción incorrecta.\n\n");
				break;
		}

	}while(opcion!=6 );

	return 0;
}
